{"version":3,"file":"joelms.js","sources":["../joelms.js"],"sourcesContent":["const isEventAttribute = attr => /^on/.test(attr);\n\nconst extractEventName = attr => attr.replace('on', '').toLowerCase();\n\nconst renderElement = (obj, update, model, view, root) => {\n  const el = document.createElement(obj.type);\n\n  Object.keys(obj.attrs).forEach(key => {\n    if (isEventAttribute(key)) {\n      el.addEventListener(extractEventName(key), e =>\n        _update({ type: obj.attrs[key], payload: e }, model, update, view, root)\n      );\n    } else {\n      el.setAttribute(key, obj.attrs[key]);\n    }\n  });\n\n  obj.children.forEach(item => {\n    el.appendChild(\n      typeof item === 'string'\n        ? document.createTextNode(item)\n        : renderElement(item, update, model, view, root)\n    );\n  });\n\n  return el;\n};\n\nconst createElement = (type, attrs = {}, children = []) => {\n  return { type: type, attrs: attrs, children: children };\n};\n\nconst _update = (payload, model, update, view, root) => {\n  const newModel = update(payload, model);\n\n  render(root, view, update, newModel);\n};\n\nconst render = (root, view, update, model) => {\n  if (root.childElementCount) {\n    root.removeChild(root.firstChild);\n  }\n  root.appendChild(renderElement(view(model), update, model, view, root));\n};\n\nconst beginnerProgram = ({ root, view, update, model }) => {\n  render(root, view, update, model);\n};\n\nconst p = createElement.bind(null, 'p');\nconst div = createElement.bind(null, 'div');\nconst span = createElement.bind(null, 'span');\nconst section = createElement.bind(null, 'section');\nconst nav = createElement.bind(null, 'nav');\n\nconst table = createElement.bind(null, 'table');\nconst td = createElement.bind(null, 'tr');\nconst tr = createElement.bind(null, 'tr');\nconst tbody = createElement.bind(null, 'tbody');\nconst thead = createElement.bind(null, 'thead');\nconst button = createElement.bind(null, 'button');\nconst input = createElement.bind(null, 'input');\n\nconst h1 = createElement.bind(null, 'h1');\nconst h2 = createElement.bind(null, 'h2');\nconst h3 = createElement.bind(null, 'h3');\nconst h4 = createElement.bind(null, 'h4');\nconst h5 = createElement.bind(null, 'h5');\nconst h6 = createElement.bind(null, 'h6');\n\nconst customEl = type => createElement.bind(null, type);\nconst text = value => value;\n\nexport {\n  p,\n  div,\n  span,\n  section,\n  nav,\n  table,\n  td,\n  tr,\n  tbody,\n  thead,\n  button,\n  input,\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  customEl,\n  text,\n  render,\n  beginnerProgram,\n};\n"],"names":[],"mappings":"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"}